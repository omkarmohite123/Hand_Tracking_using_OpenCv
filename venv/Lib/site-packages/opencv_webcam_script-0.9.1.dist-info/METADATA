Metadata-Version: 2.1
Name: opencv-webcam-script
Version: 0.9.1
Summary: webcam opencv script
Home-page: https://gitee.com/CV_Lab/opencv_webcam
Author: Yifu Zeng
Author-email: zyfiy1314@163.com
License: GPL-3.0 Licence
Keywords: opencv,webcam
Platform: any
Description-Content-Type: text/markdown
License-File: LICENSE
Requires-Dist: opencv-python (>=4.5.5.62)
Requires-Dist: PyYAML (>=6.0)
Requires-Dist: tqdm (>=4.62.3)
Requires-Dist: matplotlib (>=3.5.1)
Requires-Dist: pyfiglet (>=0.8.0)
Requires-Dist: Pillow (>=8.3.2)
Requires-Dist: numpy (>=1.22.1)
Requires-Dist: psutil (>=5.9.0)
Requires-Dist: wget (>=3.2)
Requires-Dist: rich (>=12.2.0)

ä¸­æ–‡ç®€ä½“|[English](./README.en.md)

<div align="center">
	<a href="https://gitee.com/CV_Lab/opencv_webcam">
	<img src="https://pycver.gitee.io/ows-pics/imgs/opencv-webcam-script_logo.png" alt="Simple Icons" >
	</a>
<p align="center">
    åŸºäºOpenCVçš„Webcamç¨‹åºï¼Œé€‚ç”¨äºè®¡ç®—æœºè§†è§‰æ•°æ®é‡‡é›†ï¼Œå®æ—¶è§†é¢‘å¸§æ”¶é›†ç­‰ã€‚
</p>
<p align="center">
    å…·æœ‰å®‰è£…ä¾¿æ·ã€æ“ä½œç®€å•ã€è·¨å¹³å°ç­‰ç‰¹ç‚¹ã€‚
</p>
</div>
<div align="center">
<p align="center">
	<a href="./CodeCheck.md"><img src="https://img.shields.io/badge/CodeCheck-passing-success" alt="code check" /></a>
	<a href="https://gitee.com/CV_Lab/opencv_webcam/releases/v0.9"><img src="https://img.shields.io/badge/Releases-v0.9-green" alt="Releases Version" /></a>
	<a href="https://pypi.org/project/opencv-webcam-script/0.9.0/"><img src="https://badge.fury.io/py/opencv-webcam-script.svg" alt="PyPI" /></a>
	<a href="https://hub.docker.com/r/zengdockerdocker/opencv-webcam-script"><img src="https://img.shields.io/badge/docker-v0.9-blue?logo=docker" alt="Docker" /></a>
	<a href="./tutorial/ows_podman.md"><img src="https://img.shields.io/badge/Podman-v0.9-blueviolet?logo=podman" alt="Podman" /></a>
	<a href="https://gitee.com/CV_Lab/opencv_webcam/blob/master/tutorial/ows_jupyter.ipynb"><img src="https://img.shields.io/badge/Jupyter-v0.9-orange?logo=jupyter" alt="Jupyter" /></a>
	<a href="https://gitee.com/CV_Lab/opencv_webcam/blob/master/LICENSE"><img src="https://img.shields.io/badge/License-GPL--3.0-blue" alt="License" /></a>
</p>
<p align="center">
    <a href="https://github.com/pre-commit/pre-commit"><img src="https://img.shields.io/badge/checks-pre--commit-brightgreen" alt="pre-commit"></a>
    <a href="#"><img src="https://img.shields.io/badge/Python-3.8%2B-blue?logo=python" alt="Python Version" /></a>
    <a href="https://snyk.io/advisor/python/opencv-webcam-script"><img src="https://snyk.io/advisor/python/opencv-webcam-script/badge.svg" alt="PyPI Package Health"></a>
    <a href="https://github.com/PyCQA/bandit"><img src="https://img.shields.io/badge/security-bandit-yellow.svg" alt="security bandit"></a>
</p>
<p align="center">
    <a href='https://gitee.com/CV_Lab/opencv_webcam/stargazers'><img src='https://gitee.com/CV_Lab/opencv_webcam/badge/star.svg?theme=dark' alt='star'></img></a>
	<a href='https://gitee.com/CV_Lab/opencv_webcam/members'><img src='https://gitee.com/CV_Lab/opencv_webcam/badge/fork.svg?theme=dark' alt='fork'></img></a>
	<a href="https://hub.docker.com/r/zengdockerdocker/opencv-webcam-script"><img src="https://img.shields.io/docker/pulls/zengdockerdocker/opencv-webcam-script?logo=docker" alt="Docker Pulls"></a>
	<a href="https://pypi.org/project/opencv-webcam-script"><img src="https://static.pepy.tech/personalized-badge/opencv-webcam-script?period=total&units=international_system&left_color=grey&right_color=brightgreen&left_text=PyPI%20downloads" alt="PyPI All Downloads"></a>
</p>
</div>

## ğŸš€ ä½œè€…ç®€ä»‹

æ›¾é€¸å¤«ï¼Œä»äº‹äººå·¥æ™ºèƒ½ç ”ç©¶ä¸å¼€å‘ï¼›ä¸»ç ”é¢†åŸŸï¼šè®¡ç®—æœºè§†è§‰ï¼›[YOLOv5å®˜æ–¹å¼€æºé¡¹ç›®ä»£ç è´¡çŒ®äºº](https://github.com/ultralytics/yolov5/graphs/contributors)ï¼›[YOLOv5 v6.1ä»£ç è´¡çŒ®äºº](https://github.com/ultralytics/yolov5/releases/tag/v6.1)ï¼›[Gradioå®˜æ–¹å¼€æºé¡¹ç›®ä»£ç è´¡çŒ®äºº](https://github.com/gradio-app/gradio/graphs/contributors)

â¤ï¸  Githubï¼šhttps://github.com/Zengyf-CVer

ğŸ”¥ YOLOv5 å®˜æ–¹å¼€æºé¡¹ç›®PR IDï¼š

- Save \*.npy features on detect.py `--visualize`ï¼šhttps://github.com/ultralytics/yolov5/pull/5701
- Fix `detect.py --view-img` for non-ASCII pathsï¼šhttps://github.com/ultralytics/yolov5/pull/7093
- Fix Flask REST APIï¼šhttps://github.com/ultralytics/yolov5/pull/7210
- Add yesqa to precommit checksï¼šhttps://github.com/ultralytics/yolov5/pull/7511
- Add mdformat to precommit checks and update other versionï¼šhttps://github.com/ultralytics/yolov5/pull/7529
- Add TensorRT dependenciesï¼šhttps://github.com/ultralytics/yolov5/pull/8553

ğŸ’¡ YOLOv5 v6.1ä»£ç è´¡çŒ®é“¾æ¥ï¼š

- https://github.com/ultralytics/yolov5/releases/tag/v6.1

ğŸ”¥ Gradio å®˜æ–¹å¼€æºé¡¹ç›®PR IDï¼š

- Create a color generator demoï¼šhttps://github.com/gradio-app/gradio/pull/1872

<h2 align="center">ğŸš€æ›´æ–°èµ°åŠ¿</h2>

- `2022-07-26` **âš¡ [opencv-webcam-script v0.9 Jupyterç‰ˆ](./tutorial/ows_jupyter.ipynb)æ­£å¼ä¸Šçº¿**
- âš¡ **[opencv-webcam-script å†å²ç‰ˆæœ¬](./v_change)**

<h2 align="center">ğŸ’é¡¹ç›®ç”¨é€”</h2>

### ğŸ”¥ å¿«é€Ÿåˆ¶ä½œç›®æ ‡æ£€æµ‹æ•°æ®é›†

#### ğŸ“Œ é¡¹ç›®1ï¼š[åŸºäºYOLOv5çš„æ‰‹åŠ¿è¯†åˆ«demo](GestureData_yolov5.md)

<div align="center" >
<a href="https://gitee.com/CV_Lab/opencv_webcam/blob/master/GestureData_yolov5.md">
<img src="https://pic.imgdb.cn/item/61f9be4e2ab3f51d9184300d.gif"></a>
</div>

<h2 align="center">ğŸ’¡é¡¹ç›®ç»“æ„</h2>

```
.
â”œâ”€â”€ opencv_webcam							# é¡¹ç›®åç§°
â”‚   â”œâ”€â”€ utils								# å·¥å…·åŒ…
â”‚   â”‚   â”œâ”€â”€ __init__.py						# å·¥å…·åŒ…åˆå§‹åŒ–
â”‚   â”‚   â”œâ”€â”€ args_yaml.py					# æŒ‡ä»¤ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ compress.py						# å‹ç¼©ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ frame_opt.py					# å¸§ä¿å­˜ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ check_opt.py					# æ£€æŸ¥ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ fonts_opt.py					# å­—ä½“ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ plot.py							# ä½œå›¾ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ rm_bgColor.py					# å›¾ç‰‡èƒŒæ™¯ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ log.py							# æ—¥å¿—ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ path_opt.py						# ä¿å­˜è·¯å¾„ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ sys_opt.py						# ç³»ç»Ÿç®¡ç†
â”‚   â”‚   â””â”€â”€ time_format.py					# æ—¶é—´æ ¼å¼åŒ–
â”‚   â”œâ”€â”€ tutorial							# owsæ•™ç¨‹
â”‚   â”‚   â”œâ”€â”€ ows_bash.md						# ows Bashç‰ˆæ•™ç¨‹
â”‚   â”‚   â”œâ”€â”€ ows_pypi.md						# ows PyPIç‰ˆæ•™ç¨‹
â”‚   â”‚   â”œâ”€â”€ ows_docker.md					# ows dockerç‰ˆæ•™ç¨‹
â”‚   â”‚   â”œâ”€â”€ ows_podman.md					# ows Podmanç‰ˆæ•™ç¨‹
â”‚   â”‚   â””â”€â”€ ows_jupyter.ipynb				# ows Jupyterç‰ˆæ•™ç¨‹
â”‚   â”œâ”€â”€ v_change							# ç‰ˆæœ¬å†å²
â”‚   â”‚   â”œâ”€â”€ v01_v05_change.md				# v0.1-v0.5ç‰ˆæœ¬å˜æ›´
â”‚   â”‚   â”œâ”€â”€ v06_change.md					# v0.6ç‰ˆæœ¬å˜æ›´
â”‚   â”‚   â”œâ”€â”€ v07_change.md					# v0.7ç‰ˆæœ¬å˜æ›´
â”‚   â”‚   â”œâ”€â”€ v08_change.md					# v0.8ç‰ˆæœ¬å˜æ›´
â”‚   â”‚   â””â”€â”€ README.md						# ç‰ˆæœ¬å†å²è¯´æ˜
â”‚   â”œâ”€â”€ __init__.py							# é¡¹ç›®åˆå§‹åŒ–
â”‚   â”œâ”€â”€ opencv_webcam.py					# è„šæœ¬ä¸»è¿è¡Œæ–‡ä»¶
â”‚   â”œâ”€â”€ LICENSE								# é¡¹ç›®è®¸å¯
â”‚   â”œâ”€â”€ CodeCheck.md						# ä»£ç æ£€æŸ¥
â”‚   â”œâ”€â”€ CodeSecurity.md						# ä»£ç å®‰å…¨æ£€æµ‹
â”‚   â”œâ”€â”€ setup.sh							# ç¯å¢ƒå®‰è£…è„šæœ¬
â”‚   â”œâ”€â”€ fonts.sh							# å­—ä½“ä¸‹è½½è„šæœ¬
â”‚   â”œâ”€â”€ Dockerfile							# dockeræ„å»ºæ–‡ä»¶
â”‚   â”œâ”€â”€ setup.cfg							# pre-commit CIæ£€æŸ¥æºé…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ .pre-commit-config.yaml				# pre-commité…ç½®æ–‡ä»¶
â”‚   â”œâ”€â”€ .gitignore							# gitå¿½ç•¥æ–‡ä»¶
â”‚   â”œâ”€â”€ .dockerignore						# dockerå¿½ç•¥æ–‡ä»¶
â”‚   â”œâ”€â”€ GestureData_yolov5.md				# Gesture&YOLOv5 demo
â”‚   â”œâ”€â”€ README.md							# é¡¹ç›®è¯´æ˜
â”‚   â”œâ”€â”€ README.en.md						# é¡¹ç›®è¯´æ˜ï¼ˆè‹±æ–‡ç‰ˆï¼‰
â”‚   â””â”€â”€ requirements.txt					# è„šæœ¬ä¾èµ–åŒ…
```

<h2 align="center">ğŸ”¥å®‰è£…æ•™ç¨‹</h2>

â¤ï¸ OWSæä¾›äº†**5**ç§å®‰è£…æ–¹æ³•ã€‚ç‚¹å‡»ä¸‹é¢å¯¹åº”çš„logoï¼Œäº†è§£è¯¦ç»†çš„å®‰è£…ä¸ä½¿ç”¨æ•™ç¨‹ã€‚

<div align="center">
    <a href="./tutorial/ows_bash.md">
        <img src="https://pycver.gitee.io/ows-pics/imgs/bash.png" width="15%"/>
    </a>
    <a href="./tutorial/ows_pypi.md">
        <img src="https://pycver.gitee.io/ows-pics/imgs/pypi_logo.png" width="18%"/>
    </a>
    <a href="./tutorial/ows_docker.md">
        <img src="https://pycver.gitee.io/ows-pics/imgs/docker_logo.png" width="15%"/>
    </a>
    <a href="./tutorial/ows_podman.md">
        <img src="https://pycver.gitee.io/ows-pics/imgs/Podman_logo.png" width="15%"/>
    </a>
    <a href="./tutorial/ows_jupyter.ipynb">
        <img src="https://pycver.gitee.io/ows-pics/imgs/Jupyter_logo.png" width="12%"/>
    </a>
</div>

### âœ… æ–¹æ³•ä¸€ï¼šLinux Shellå®‰è£…ï¼ˆå¼€å‘ç‰ˆï¼‰

#### ğŸ”¥ [opencv-webcam-script Bashç‰ˆ è¯¦ç»†æ•™ç¨‹](./tutorial/ows_bash.md)

ğŸ“Œ ç¬¬ä¸€æ­¥ï¼šå…‹éš†é¡¹ç›®

```shell
git clone https://gitee.com/CV_Lab/opencv_webcam.git # å…‹éš†é¡¹ç›®
```

ğŸ“Œ ç¬¬äºŒæ­¥ï¼šåˆ›å»ºè™šæ‹Ÿç¯å¢ƒ

```shell
# åˆ›å»ºcondaè™šæ‹Ÿç¯å¢ƒï¼Œä»¥python 3.8ä¸ºä¾‹
conda create -n ows python==3.8 # è™šæ‹Ÿç¯å¢ƒåç§°ä¸ºows
conda activate ows # æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
```

ğŸ“Œ ç¬¬ä¸‰æ­¥ï¼šå®‰è£…è„šæœ¬

```shell
pip install --upgrade pip # å‡çº§pip
pip install -r ./requirements.txt -U # å®‰è£…OpenCV Webcamè„šæœ¬
```

ğŸ“Œ ç¬¬äºŒæ­¥å’Œç¬¬ä¸‰æ­¥ä¹Ÿå¯ä»¥é€šè¿‡[setup.sh](./setup.sh) æ‰§è¡Œ

```shell
bash ./setup.sh
```

â— æ³¨æ„ï¼š**OWS v0.6** ä»¥ä¸Šçš„ç‰ˆæœ¬éœ€è¦åœ¨[**Python>=3.8.0**](https://www.python.org/) çš„ç¯å¢ƒä¸‹è¿è¡Œ

### âœ… æ–¹æ³•äºŒï¼špip å¿«é€Ÿå®‰è£…ï¼ˆPyPIç‰ˆï¼‰

#### ğŸ”¥ [opencv-webcam-script PyPIç‰ˆ è¯¦ç»†æ•™ç¨‹](./tutorial/ows_pypi.md)

#### ğŸ¨ ç®€æ˜“æ•™ç¨‹

ğŸ“Œ ç¬¬ä¸€æ­¥ï¼šåˆ›å»ºowsè™šæ‹Ÿç¯å¢ƒï¼Œå‚è§æ–¹æ³•ä¸€

ğŸ“Œ ç¬¬äºŒæ­¥ï¼šæ‰§è¡ŒpipæŒ‡ä»¤

```shell
pip install opencv-webcam-script==0.9.0
```

ğŸ“Œ ç¬¬ä¸‰æ­¥ï¼šç¼–å†™pythonç¨‹åº

```python
from opencv_webcam.opencv_webcam import webcam_opencv

# ------------ä¾‹ä¸¾å‡ ä¸ªåŠŸèƒ½------------
webcam_opencv()  # å¸¸è§„è°ƒç”¨
webcam_opencv(is_autoSaveFrame=True)  # è‡ªåŠ¨ä¿å­˜å¸§
webcam_opencv(is_autoSaveFrame=True, is_compress=True)  # å‹ç¼©å¸§
```

â— æ³¨æ„ï¼š`==`åé¢ä¸€å®šè¦åŠ **ç‰ˆæœ¬å·**ã€‚å¦‚æœæ‰§è¡Œ`pip install opencv-webcam-script` å¯èƒ½å®‰è£…ä¸ºæµ‹è¯•ç‰ˆï¼Œä¼šå½±å“ä½¿ç”¨ã€‚

### âœ… æ–¹æ³•ä¸‰ï¼šdocker é•œåƒå®‰è£…ï¼ˆdockerç‰ˆï¼‰

#### ğŸ”¥ [opencv-webcam-script dockerç‰ˆ è¯¦ç»†æ•™ç¨‹](./tutorial/ows_docker.md)

#### ğŸ¨ ç®€æ˜“æ•™ç¨‹

ğŸ“Œ ç¬¬ä¸€æ­¥ï¼šä¸‹è½½é•œåƒ

```shell
sudo docker pull zengdockerdocker/opencv-webcam-script:v0.9 # é•œåƒæ‹‰å–
```

ğŸ“Œ ç¬¬äºŒæ­¥ï¼šåˆ›å»ºå®¹å™¨

```shell
xhost +local:root # å…è®¸rootç”¨æˆ·è®¿é—®æ­£åœ¨è¿è¡Œçš„XæœåŠ¡å™¨ï¼ˆé‡è¦ï¼‰
# åˆ›å»ºåç§°ä¸ºowsçš„å®¹å™¨
sudo docker run --name=ows --ipc=host -it -v /tmp/.X11-unix:/tmp/.X11-unix -e DISPLAY=unix$DISPLAY --device=/dev/video0:/dev/video0 zengdockerdocker/opencv-webcam-script:v0.9
```

ğŸ“Œ ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œç¨‹åº

```shell
python opencv_webcam.py # è¿è¡Œè„šæœ¬ç¨‹åº
python opencv_webcam.py -isasf # è‡ªåŠ¨ä¿å­˜å¸§

# è·å–dockerå¸§æ•°æ®åˆ°æœ¬æœº
sudo docker cp å®¹å™¨åç§°:å®¹å™¨ç›®å½• æœ¬æœºå®¿ä¸»ç›®å½•
sudo docker cp ows:/usr/src/app/WebcamFrame /home/ç”¨æˆ·å # ä¸¾ä¾‹
```

â— æ³¨æ„ï¼šå¯åŠ¨owså®¹å™¨å‰ï¼Œéœ€è¦æ‰§è¡Œ`xhost +local:root` æŒ‡ä»¤ï¼Œç¡®ä¿è¿æ¥åˆ°æœ¬åœ°è®¾å¤‡ã€‚

### âœ… æ–¹æ³•å››ï¼šPodman å®‰è£…ï¼ˆPodmanç‰ˆï¼‰

#### ğŸ”¥ [opencv-webcam-script Podmanç‰ˆ è¯¦ç»†æ•™ç¨‹](./tutorial/ows_podman.md)

#### ğŸ¨ ç®€æ˜“æ•™ç¨‹

ğŸ“Œ ç¬¬ä¸€æ­¥ï¼šä¸‹è½½é•œåƒ

```shell
sudo podman pull docker.io/zengdockerdocker/opencv-webcam-script:v0.9 # é•œåƒæ‹‰å–
```

ğŸ“Œ ç¬¬äºŒæ­¥ï¼šåˆ›å»ºå®¹å™¨

```shell
xhost +local:root # å…è®¸rootç”¨æˆ·è®¿é—®æ­£åœ¨è¿è¡Œçš„XæœåŠ¡å™¨ï¼ˆé‡è¦ï¼‰
# åˆ›å»ºåç§°ä¸ºowsçš„å®¹å™¨
sudo podman run --name=ows --ipc=host -it -v /tmp/.X11-unix:/tmp/.X11-unix -e DISPLAY=unix$DISPLAY --device=/dev/video0:/dev/video0 docker.io/zengdockerdocker/opencv-webcam-script:v0.9
```

ğŸ“Œ ç¬¬ä¸‰æ­¥ï¼šè¿è¡Œç¨‹åº

```shell
python opencv_webcam.py # è¿è¡Œè„šæœ¬ç¨‹åº
python opencv_webcam.py -isasf # è‡ªåŠ¨ä¿å­˜å¸§

# è·å–Podmanå¸§æ•°æ®åˆ°æœ¬æœº
sudo podman cp å®¹å™¨åç§°:å®¹å™¨ç›®å½• æœ¬æœºå®¿ä¸»ç›®å½•
sudo podman cp ows:/usr/src/app/WebcamFrame /home/ç”¨æˆ·å # ä¸¾ä¾‹
```

â— æ³¨æ„ï¼šå¯åŠ¨owså®¹å™¨å‰ï¼Œéœ€è¦æ‰§è¡Œ`xhost +local:root` æŒ‡ä»¤ï¼Œç¡®ä¿è¿æ¥åˆ°æœ¬åœ°è®¾å¤‡ã€‚

### âœ… æ–¹æ³•äº”ï¼šJupyter å®‰è£…ï¼ˆJupyterç‰ˆï¼‰

#### ğŸ”¥ [opencv-webcam-script Jupyterç‰ˆ è¯¦ç»†æ•™ç¨‹](./tutorial/ows_jupyter.ipynb)

#### ğŸ¨ ç®€æ˜“æ•™ç¨‹

ğŸ“Œ ç¬¬ä¸€æ­¥ï¼šå®‰è£…

```shell
# é¦–å…ˆæ‰‹åŠ¨åˆ›å»ºè™šæ‹Ÿç¯å¢ƒ
# conda create -n ows python==3.8 # è™šæ‹Ÿç¯å¢ƒåç§°ä¸ºows
# conda activate ows # æ¿€æ´»è™šæ‹Ÿç¯å¢ƒ
!git clone https://gitee.com/CV_Lab/opencv_webcam.git  # å…‹éš†
%cd opencv_webcam
%pip install -qr requirements.txt -U  # å®‰è£…
```

â— æ³¨æ„ï¼šå®‰è£…å®Œæˆåï¼Œå°†`ows_jupyter.ipynb`æ”¾å…¥`opencv_webcam`ç›®å½•ä¸­è¿›è¡Œä¸‹é¢çš„æ“ä½œ

ğŸ“Œ ç¬¬äºŒæ­¥ï¼šè¿è¡Œ

```shell
!python opencv_webcam.py # é»˜è®¤æŒ‰qé”®é€€å‡º
!python opencv_webcam.py -isasf # è§†é¢‘å¸§è‡ªåŠ¨ä¿å­˜
```

**æ³¨ï¼š[Jupyterç‰ˆows](https://gitee.com/CV_Lab/opencv_webcam/blob/master/tutorial/ows_jupyter.ipynb)ç¨‹åºé€šè¿‡`Ctrl+Enter` å³å¯è¿è¡Œå•å…ƒæŒ‡ä»¤**

<h2 align="center">âš¡ä½¿ç”¨æ•™ç¨‹</h2>

â¤ï¸ **OWS v0.9** Bash Shellæ˜¾ç¤ºä¿¡æ¯é«˜åº¦é›†æˆ[rich](https://github.com/Textualize/rich)ç»„ä»¶

<div align="center" width="50%">
<a href="https://github.com/Textualize/rich">
<img src="https://pycver.gitee.io/ows-pics/imgs/rich.svg">
</a>
</div>

<div align="center" >
<img src="https://pycver.gitee.io/ows-pics/imgs/ows_v09_shell.png">
</div>

<div align="center" >
OWS v0.9 Bash Shellæ˜¾ç¤ºä¿¡æ¯
</div>

#### ğŸ’¡ å¸¸è§„å¯åŠ¨

```shell
# å¯åŠ¨owsç¨‹åº
python opencv_webcam.py
```

â— æç¤ºï¼šå¯åŠ¨owsç¨‹åºåï¼Œé¦–å…ˆè¿›å…¥**å€’è®¡æ—¶æ¨¡å¼**ï¼Œæœ‰**150å¸§**å€’è®¡æ—¶å‡†å¤‡æ—¶é—´ï¼Œä¼šæç¤ºç”¨æˆ·å°†è®¾å¤‡è°ƒæ•´åˆ°åˆé€‚çš„ä½ç½®ï¼Œå‡†å¤‡å¼€å§‹ã€‚

<div align="center" >
<img src="https://pycver.gitee.io/ows-pics/imgs/countdown.png">
</div>

#### ğŸ’¡ è®¾å¤‡é€‰æ‹©

```shell
# å¤šæ‘„åƒå¤´åˆ‡æ¢ç¤ºä¾‹ï¼Œé»˜è®¤ä¸º0
python opencv_webcam.py -dev 0
python opencv_webcam.py -dev 1
python opencv_webcam.py -dev 2

# RTSP
python opencv_webcam.py -dev "rtsp://username:password@xxx.xxx.xxx"
```

â— æ³¨æ„ï¼šè¿›è¡Œ**RTSP**æ“ä½œæ—¶ï¼Œå°½å¯èƒ½åœ¨**Linux Shell**ä¸­å°†RTSPåœ°å€ç”¨**åŒå¼•å·**æ ‡æ³¨ã€‚

#### ğŸ’¡ è®¾ç½®é€€å‡ºé”®

```shell
# é»˜è®¤æŒ‰qé”®é€€å‡º
python opencv_webcam.py -q z # è®¾ç½®zé”®é€€å‡º
python opencv_webcam.py -q k # è®¾ç½®ké”®é€€å‡º
```

<div align="center" >
<img src="https://pycver.gitee.io/ows-pics/imgs/webcam2frames.png">
</div>

#### ğŸ’¡ è‡ªåŠ¨ä¿å­˜å¸§

```shell
python opencv_webcam.py -isasf
```

â— æç¤ºï¼šç³»ç»Ÿæ ¹æ®æ‘„åƒå¤´ä¿å­˜çš„å›¾ç‰‡å¤§å°å’Œæœ¬åœ°ç£ç›˜å®¹é‡ï¼Œè®¡ç®—å‡º**é¢„ä¿å­˜çš„å›¾ç‰‡æ•°é‡**

<div align="center" >
<img src="https://pycver.gitee.io/ows-pics/imgs/pre_save_imgs.png">
</div>

#### ğŸ’¡ æ¯éš”nå¸§ä¿å­˜ä¸€æ¬¡å¸§

```shell
# æ¯éš”10å¸§ä¿å­˜ä¸€æ¬¡å¸§
python opencv_webcam.py -isasf -fns 10
```

#### ğŸ’¡ æ‰‹åŠ¨ä¿å­˜å¸§

```shell
# é»˜è®¤æŒ‰aé”®æ•è·ä¸€å¸§
python opencv_webcam.py -ishsf
```

#### ğŸ’¡ è‡ªå®šä¹‰æ•è·é”®

```shell
# è®¾ç½®zé”®ä¸ºæ•è·é”®ï¼Œé»˜è®¤ä¸ºaé”®
python opencv_webcam.py -ishsf -fck z
```

#### ğŸ’¡ é‡å¡‘å¸§å°ºå¯¸ï¼ˆè‡ªå®šä¹‰å®½é«˜ï¼‰

```shell
# é‡å¡‘å®½åº¦300 é«˜åº¦200
python opencv_webcam.py -isasf -isrf -rf 300,200 # è‡ªåŠ¨ç‰ˆ
python opencv_webcam.py -ishsf -isrf -rf 300,200 # æ‰‹åŠ¨ç‰ˆ
```

#### ğŸ’¡ é‡å¡‘å¸§å°ºå¯¸ï¼ˆè‡ªå®šä¹‰å®½é«˜ç¼©æ”¾æ¯”ï¼‰

```shell
# å®½é«˜ç¼©æ”¾æ¯”ä¸º0.5
python opencv_webcam.py -isasf -isrf -rrf 0.5 # è‡ªåŠ¨ç‰ˆ
python opencv_webcam.py -ishsf -isrf -rrf 0.5 # æ‰‹åŠ¨ç‰ˆ
```

#### ğŸ’¡ è‡ªå®šä¹‰ä¿å­˜è·¯å¾„

```shell
# è®¾ç½®ä¿å­˜è·¯å¾„ï¼Œé»˜è®¤ä¿å­˜è·¯å¾„ä¸ºWebcamFrame
python opencv_webcam.py -fsd custom_dir -isasf # ä»¥è‡ªåŠ¨ç‰ˆä¸ºä¾‹
```

#### ğŸ’¡ è‡ªå®šä¹‰å¸§ç›®å½•åç§°

```shell
# è®¾ç½®å¸§ç›®å½•åç§°ï¼Œé»˜è®¤ä¿å­˜è·¯å¾„ä¸ºframes
python opencv_webcam.py -fdn frames_custom -isasf # ä»¥è‡ªåŠ¨ç‰ˆä¸ºä¾‹
```

#### ğŸ’¡ è‡ªå®šä¹‰å¸§åå‰ç¼€

```shell
# è®¾ç½®å¸§å›¾ç‰‡çš„å‰ç¼€åç§°
python opencv_webcam.py -isasf -fnp webcam # ä»¥è‡ªåŠ¨ç‰ˆä¸ºä¾‹
```

#### ğŸ’¡ è®¾ç½®å¸§ä¿å­˜æ ¼å¼

```shell
# è®¾ç½®JPGè´¨é‡ä¸º100ï¼Œé»˜è®¤ä¸º95
python opencv_webcam.py -isasf -fss jpg -jq 100

# è®¾ç½®PNGè´¨é‡ä¸º5ï¼Œé»˜è®¤ä¸º3
python opencv_webcam.py -isasf -fss png -pq 5
```

#### ğŸ’¡ è®¾ç½®æš‚åœé”®

```shell
# è®¾ç½®wé”®ä¸ºæš‚åœé”®ï¼Œé»˜è®¤ä¸ºpé”®
python opencv_webcam.py -p w # æŒ‰ä»»æ„é”®ç»§ç»­
```

#### ğŸ’¡ è®¾ç½®ä¿å­˜å¸§æ•°

```shell
# è®¾ç½®ä¿å­˜100å¸§
python opencv_webcam.py -isasf -afn 100
```

#### ğŸ’¡ è°ƒæ•´çª—ä½“å°ºå¯¸

```shell
# æ‰‹åŠ¨è°ƒæ•´çª—ä½“å°ºå¯¸ï¼ˆv0.9ï¼‰
python opencv_webcam.py -isrw
```

<div align="center" >
<img src="https://pycver.gitee.io/ows-pics/imgs/webcam2log.png">
</div>

#### ğŸ’¡ æ—¥å¿—è®¾ç½®

```shell
# æ—¥å¿—æ–‡ä»¶é»˜è®¤ä¿å­˜åœ¨é¡¹ç›®æ ¹ç›®å½•ï¼Œows.log
python opencv_webcam.py

# è®¾ç½®æ—¥å¿—æ–‡ä»¶åç§°åŠç±»å‹ï¼Œç±»å‹åŒ…æ‹¬.logã€.txtã€.data
python opencv_webcam.py -ln ows02.txt

# è®¾ç½®æ—¥å¿—ä¿å­˜æ–¹å¼ï¼Œï¼Œé»˜è®¤ä¸ºè¿½åŠ æ¨¡å¼
python opencv_webcam.py -lm w # è®¾ç½®ä¸ºè¦†ç›–æ¨¡å¼
```

<div align="center" >
<img src="https://pycver.gitee.io/ows-pics/imgs/frames2zip.png">
</div>

#### ğŸ’¡ è§†é¢‘å¸§å‹ç¼©

```shell
# å¸¸è§„å‹ç¼©ï¼Œé»˜è®¤ows.zipï¼ˆä»¥è‡ªåŠ¨ç‰ˆä¸ºä¾‹ï¼‰
python opencv_webcam.py -isasf -isc

# è‡ªå®šä¹‰å‹ç¼©æ–‡ä»¶åç§°
python opencv_webcam.py -isasf -isc -cn ows02

# è‡ªåŠ¨å‘½åå‹ç¼©æ–‡ä»¶
python opencv_webcam.py -isasf -isc -isacn

# è‡ªå®šä¹‰å‹ç¼©æ¨¡å¼ï¼Œé»˜è®¤ä¸ºå†™è¦†ç›–
python opencv_webcam.py -isasf -isc -cs tar -cm w:gz # tarå‹ç¼©
python opencv_webcam.py -isasf -isc -cm a # è¿½åŠ æ¨¡å¼(aæ¨¡å¼ä»…é™zip) æ³¨ï¼šè¯¥æŒ‡ä»¤ä»…é™v0.4
```

<div align="center" >
	<img src="https://pycver.gitee.io/ows-pics/imgs/rm_bgColor.png">
</div>

<div align="center">
	<img src="https://pycver.gitee.io/ows-pics/imgs/green.jpg" width="20%"/>
	<img src="https://pycver.gitee.io/ows-pics/imgs/remove_green.png" width="20%"/>
	<img src="https://pycver.gitee.io/ows-pics/imgs/blue.jpg" width="20%"/>
	<img src="https://pycver.gitee.io/ows-pics/imgs/remove_blue.png" width="20%"/>
</div>

#### ğŸ’¡ å»é™¤èƒŒæ™¯è‰²ï¼ˆæŠ ç»¿ã€æŠ è“ï¼‰

```shell
# å»é™¤èƒŒæ™¯è‰²ï¼Œé»˜è®¤ä¸ºç»¿è‰²
python opencv_webcam.py -isasf -isrbgc

# é€‰æ‹©èƒŒæ™¯è‰²æ¨¡å¼
python opencv_webcam.py -isasf -isrbgc -rbgcm green # æŠ ç»¿
python opencv_webcam.py -isasf -isrbgc -rbgcm blue # æŠ è“
```

â— æ³¨æ„ï¼šä¸ºäº†è¾¾åˆ°å»é™¤èƒŒæ™¯è‰²çš„**æœ€ä½³æ•ˆæœ**ï¼ŒèƒŒæ™¯è‰²å°½é‡ä¸è¦æ··å…¥ç™½å…‰ï¼Œå°½å¯èƒ½ä½¿èƒŒæ™¯è‰²ä¿æŒé«˜çš„é¥±å’Œåº¦ã€‚

<div align="center" >
<img src="https://pycver.gitee.io/ows-pics/imgs/date-frames.png">
</div>

#### ğŸ’¡ æ—¥æœŸ-å¸§æ•°å›¾

â¤ï¸ è¯¥åŠŸèƒ½åœ¨æ¯æ¬¡è¿è¡ŒOWSç¨‹åºæ—¶ï¼Œæ ¹æ®`date_time_frames.csv`æ–‡ä»¶ä¼šè‡ªåŠ¨ç”Ÿæˆ**æ—¥æœŸ-å¸§æ•°å›¾**ã€‚

##### âœ¨ æ“ä½œç¤ºä¾‹

ğŸ“Œ è¿è¡ŒæŒ‡ä»¤

```shell
python opencv_webcam.py -isasf -fdn tiger
python opencv_webcam.py -isasf -fdn lion
python opencv_webcam.py -isasf -fdn elephant
```

ğŸ“Œ æ—¥æœŸ-å¸§æ•°å›¾ç›®å½•ç»“æ„

```shell
.
â”œâ”€â”€ opencv_webcam							# é¡¹ç›®åç§°
â”‚   â”œâ”€â”€ DateFrames							# æ—¥æœŸ-å¸§æ•°å›¾ç›®å½•
â”‚   â”‚   â”œâ”€â”€ 2022-02-21						# æ—¥æœŸç›®å½•
â”‚   â”‚   â”‚   â”œâ”€â”€ lion.png					# lionç±»åˆ«æ—¥æœŸ-å¸§æ•°å›¾
â”‚   â”‚   â”‚   â”œâ”€â”€ elephant.png				# elephantç±»åˆ«æ—¥æœŸ-å¸§æ•°å›¾
â”‚   â”‚   â”‚   â””â”€â”€ tiger.png					# tigerç±»åˆ«æ—¥æœŸ-å¸§æ•°å›¾
â”‚   â”œâ”€â”€ date_time_frames.csv				# æ—¥æœŸ-å¸§æ•°å›¾æ—¥å¿—
â”‚   â”œâ”€â”€ ....								# å…¶ä»–æ–‡ä»¶
```

<details close>
<summary>ğŸ“Œ date_time_frames.csvæ—¥å¿—æ–‡ä»¶</summary>

```shell
2022-02-21 07:48:41,58,lion,WebcamFrame
2022-02-21 07:49:52,68,lion,WebcamFrame
2022-02-21 07:50:59,37,tiger,WebcamFrame
2022-02-21 07:51:14,59,elephant,WebcamFrame
2022-02-21 07:51:30,72,tiger,WebcamFrame
2022-02-21 07:51:42,116,lion,WebcamFrame
2022-02-21 07:51:54,127,elephant,WebcamFrame
2022-02-21 07:52:16,122,elephant,WebcamFrame
2022-02-21 07:52:27,106,lion,WebcamFrame
2022-02-21 07:52:38,127,tiger,WebcamFrame
2022-02-21 07:53:00,78,elephant,WebcamFrame
2022-02-21 07:53:10,107,tiger,WebcamFrame
2022-02-21 07:53:21,95,lion,WebcamFrame
2022-02-21 07:53:42,59,lion,WebcamFrame
2022-02-21 07:53:50,74,tiger,WebcamFrame
2022-02-21 07:53:59,97,elephant,WebcamFrame
2022-02-21 07:54:58,125,elephant,WebcamFrame
2022-02-21 07:55:11,79,lion,WebcamFrame
2022-02-21 07:55:20,110,tiger,WebcamFrame
2022-02-21 07:55:29,146,tiger,WebcamFrame
2022-02-21 07:55:55,50,tiger,WebcamFrame
2022-02-21 07:56:02,153,lion,WebcamFrame
2022-02-21 07:56:16,108,elephant,WebcamFrame
2022-02-21 07:56:38,121,tiger,WebcamFrame
```

</details>

<p align="center" >
<details open>
<summary>ğŸ“Œ lion.png</summary>
<img src="https://pycver.gitee.io/ows-pics/imgs/lion.png">
</details>

<details close>
<summary>ğŸ“Œ elephant.png</summary>
<img src="https://pycver.gitee.io/ows-pics/imgs/elephant.png">
</details>

<details close>
<summary>ğŸ“Œ tiger.png</summary>
<img src="https://pycver.gitee.io/ows-pics/imgs/tiger.png">
</details>
</p>

#### ğŸ’¡ æŒ‡ä»¤æŸ¥è¯¢

```shell
# æŸ¥è¯¢è„šæœ¬å‚æ•°
python opencv_webcam.py --help
```

<details close>
<summary>ğŸ“Œ æŒ‡ä»¤æŸ¥è¯¢ç»“æœ</summary>

```shell
usage: opencv_webcam.py [-h] [--device DEVICE] [--quit QUIT] [--is_autoSaveFrame] [--is_handSaveFrame] [--is_resizeFrame] [--frame_saveDir FRAME_SAVEDIR] [--frame_dirName FRAME_DIRNAME] [--frame_nSave FRAME_NSAVE]
                        [--frame_capKey FRAME_CAPKEY] [--resize_frame RESIZE_FRAME] [--resizeRatio_frame RESIZERATIO_FRAME] [--frame_namePrefix FRAME_NAMEPREFIX] [--frame_saveStyle FRAME_SAVESTYLE]
                        [--jpg_quality JPG_QUALITY] [--png_quality PNG_QUALITY] [--pause PAUSE] [--auto_frameNum AUTO_FRAMENUM] [--logName LOGNAME] [--logMode LOGMODE] [--is_compress] [--compressStyle COMPRESSSTYLE]
                        [--is_autoCompressName] [--compressName COMPRESSNAME] [--compressMode COMPRESSMODE] [--is_rmbgColor] [--rmbgColorMode RMBGCOLORMODE] [--is_resizeWindow]

OpenCV Webcam Script v0.9

optional arguments:
  -h, --help            show this help message and exit
  --device DEVICE, -dev DEVICE
                        device index for webcam, 0 or rtsp
  --quit QUIT, -q QUIT  quit key for webcam
  --is_autoSaveFrame, -isasf
                        is auto save frame
  --is_handSaveFrame, -ishsf
                        is hand save frame
  --is_resizeFrame, -isrf
                        is resize frame
  --frame_saveDir FRAME_SAVEDIR, -fsd FRAME_SAVEDIR
                        save frame dir
  --frame_dirName FRAME_DIRNAME, -fdn FRAME_DIRNAME
                        save frame dir name
  --frame_nSave FRAME_NSAVE, -fns FRAME_NSAVE
                        n frames save a frame (auto save frame)
  --frame_capKey FRAME_CAPKEY, -fck FRAME_CAPKEY
                        frame capture key (hand save frame)
  --resize_frame RESIZE_FRAME, -rf RESIZE_FRAME
                        resize frame save
  --resizeRatio_frame RESIZERATIO_FRAME, -rrf RESIZERATIO_FRAME
                        resize ratio frame save
  --frame_namePrefix FRAME_NAMEPREFIX, -fnp FRAME_NAMEPREFIX
                        frame name prefix
  --frame_saveStyle FRAME_SAVESTYLE, -fss FRAME_SAVESTYLE
                        frame save style
  --jpg_quality JPG_QUALITY, -jq JPG_QUALITY
                        frame save jpg quality (0-100) default 95
  --png_quality PNG_QUALITY, -pq PNG_QUALITY
                        frame save jpg quality (0-9) default 3
  --pause PAUSE, -p PAUSE
                        webcam pause
  --auto_frameNum AUTO_FRAMENUM, -afn AUTO_FRAMENUM
                        auto save number of frames
  --logName LOGNAME, -ln LOGNAME
                        log save name
  --logMode LOGMODE, -lm LOGMODE
                        log write mode
  --is_compress, -isc   is compress file
  --compressStyle COMPRESSSTYLE, -cs COMPRESSSTYLE
                        compress style
  --is_autoCompressName, -isacn
                        is auto compress name
  --compressName COMPRESSNAME, -cn COMPRESSNAME
                        compress save name
  --compressMode COMPRESSMODE, -cm COMPRESSMODE
                        compress save mode, tar w:gz
  --is_rmbgColor, -isrbgc
                        is remove background color
  --rmbgColorMode RMBGCOLORMODE, -rbgcm RMBGCOLORMODE
                        remove background color mode
  --is_resizeWindow, -isrw
                        is resize window
```

</details>

### ğŸ’¬ æŠ€æœ¯äº¤æµ

- å¦‚æœä½ å‘ç°ä»»ä½•OpenCV Webcam Scriptå­˜åœ¨çš„é—®é¢˜æˆ–è€…æ˜¯å»ºè®®, æ¬¢è¿é€šè¿‡[Gitee Issues](https://gitee.com/CV_Lab/opencv_webcam/issues)ç»™æˆ‘æissuesã€‚
- æ¬¢è¿åŠ å…¥CV LabæŠ€æœ¯äº¤æµç¾¤

<div align="center" >
<img src="https://pycver.gitee.io/ows-pics/imgs/qq_group.jpg" width="20%">
</div>


